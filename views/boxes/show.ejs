<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ToolBox Builder</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/app.css" />
  </head>
  <body id="boxShowBG">
    <header>
      <a href="/home"><h1>Tool Box Builders</h1></a>
      <div id="main-menu">
        <div class="nav-item">
          <a class="nav-link" href="/boxes">ToolBoxes</a>
        </div>
        <div class="nav-item"><a class="nav-link" href="/tools">Tools</a></div>
        <div class="nav-item">
          <a class="nav-link" href="/tools/new">Add Tool</a>
        </div>
      </div>
    </header>

    <div class="container table-responsive inToolBox">
      <h2 class="pageListing">Tools in the <%= box.name %> ToolBox</h2>
      <table
        class="table table-striped table-border table-hover"
        style="width: 100%"
      >
        <tr>
          <th>Tool Name</th>
          <th>Picture</th>
          <th>Where to BUY</th>
          <th>Recommended</th>
        </tr>
        <% box.tools.forEach(box => { %>
        <tr>
          <td>
            <a href="/tools/<%= box.id %>"><%= box.name %></a>
          </td>
          <td
            style="
              width: 350px;
              height: 100px;
              text-align: center;
              vertical-align: middle;
            "
          >
            <img
              src="<%= box.picture %>"
              style="max-height: 100%; max-width: 100%"
            />
          </td>
          <td>
            <a href="<%= box.whereToBuy %>"> Buy Now </a>
          </td>
          <td>
            <% if (box.recommended) { %> Yes- recommended! <% } else { %> NOT
            recommended. <% } %>
          </td>
          <td><% }) %></td>
        </tr>
      </table>
    </div>
    <br /><br />
    <div class="container table-responsive addToToolBox">
      <h4>ADD a new tool to your ToolBox</h4>

      <table
        class="table table-striped table-border table-hover"
        style="width: 100%"
      >
        <tr>
          <th>Tool Name</th>
          <th>Picture</th>
          <th>Where to BUY</th>
          <th>Recommended</th>
        </tr>
        <% tools.forEach(tool => { %>
        <tr>
          <td>
            <form action="/boxes/<%= box.id %>/tools?_method=PUT" method="POST">
              <input type="checkbox" name="tools" value="<%= tool.id %>" />
              <label for="<%= tool.name %>"><%= tool.name %></label><br />
              <input type="submit" value="Add" />
            </form>
          </td>
          <td>
            <a href="<%= tool.picture %>"> See picture </a>
          </td>
          <td>
            <a href="<%= tool.whereToBuy %>"> Buy Now </a>
          </td>
          <td>
            <% if (tool.recommended) { %> Yes- recommended! <% } else { %> NOT
            recommended. <% } %>
          </td>
        </tr>

        <% }) %>
      </table>
    </div>
    <footer>Helping to support our tool needs together!</footer>
  </body>
</html>
